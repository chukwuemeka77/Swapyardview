<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Swapyard Swap</title>
<script src="https://cdn.tailwindcss.com"></script>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
</head>
<body class="bg-black text-white">

<!-- Session Check -->
<script>
window.onload = () => {
  if(!sessionStorage.getItem("user")){
    window.location.href = "login.html";
  }
}
</script>

<!-- Top Container: Swap Header -->
<div class="container mx-auto my-4 p-4 max-w-2xl bg-white text-black rounded-2xl shadow-lg">
  <h2 class="h5 fw-bold mb-3"><i class="bi bi-arrow-left-right"></i> Swap Currency</h2>
  <p>Swap between your wallets instantly. The system applies a dynamic fee based on your KYC tier.</p>
</div>

<!-- Swap Form Container -->
<div class="container mx-auto my-4 max-w-2xl p-4 bg-white text-black rounded-2xl shadow-lg">
  <!-- From Wallet -->
  <div class="mb-3">
    <label class="form-label fw-bold">From</label>
    <select class="form-select" id="fromWallet">
      <!-- Dynamically populated from user's wallets -->
    </select>
    <p class="text-muted small mt-1" id="fromBalance">Balance: $0.00</p>
  </div>

  <!-- To Wallet -->
  <div class="mb-3">
    <label class="form-label fw-bold">To</label>
    <select class="form-select" id="toWallet">
      <!-- Dynamically populated from user's wallets -->
    </select>
    <p class="text-muted small mt-1" id="toBalance">Balance: $0.00</p>
  </div>

  <!-- Amount Input -->
  <div class="mb-3">
    <label class="form-label fw-bold">Amount</label>
    <input type="number" class="form-control" id="swapAmount" placeholder="Enter amount to swap">
  </div>

  <!-- Estimated Fee -->
  <div class="mb-3">
    <p>Estimated Fee: <span id="swapFee">0.5%</span></p>
    <p>Total after fee: <span id="totalAfterFee">0.00</span></p>
  </div>

  <!-- Swap Button -->
  <button class="btn btn-dark w-100" id="swapBtn"><i class="bi bi-arrow-left-right"></i> Swap</button>
</div>

<!-- Modal: Confirm Swap -->
<div class="modal fade" id="confirmSwapModal" tabindex="-1">
  <div class="modal-dialog">
    <div class="modal-content bg-black text-white">
      <div class="modal-header">
        <h5 class="modal-title">Confirm Swap</h5>
        <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"></button>
      </div>
      <div class="modal-body" id="confirmSwapBody"></div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
        <button type="button" class="btn btn-primary" id="confirmSwapBtn">Confirm</button>
      </div>
    </div>
  </div>
</div>

<!-- Bottom Navigation (Mobile) -->
<div class="d-flex d-md-none justify-content-around fixed-bottom bg-white text-black py-2 shadow">
  <a href="index.html" class="text-center"><i class="bi bi-house-fill fs-4"></i><br>Home</a>
  <a href="wallet.html" class="text-center"><i class="bi bi-wallet2 fs-4"></i><br>Wallet</a>
  <a href="swap.html" class="text-center fs-3 fw-bold"><i class="bi bi-arrow-left-right"></i></a>
  <a href="payment.html" class="text-center"><i class="bi bi-cash-coin fs-4"></i><br>Pay</a>
  <a href="transactions.html" class="text-center"><i class="bi bi-receipt-cutoff fs-4"></i><br>History</a>
  <a href="settings.html" class="text-center"><i class="bi bi-gear-fill fs-4"></i><br>Me</a>
</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
<script src="assets/js/swap.js"></script>
</body>
        </html>
